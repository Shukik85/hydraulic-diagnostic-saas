# =============================================================================
# HYDRAULIC DIAGNOSTIC SAAS - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env file to git - it's in .gitignore

# =============================================================================
# DJANGO CORE SETTINGS
# =============================================================================
DJANGO_SECRET_KEY=your-super-secret-key-change-in-production-minimum-50-chars
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# Environment (dev/staging/production)
DJANGO_ENV=dev

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://hdx_user:hdx_password@db:5432/hydraulic_diagnostics
DATABASE_NAME=hydraulic_diagnostics
DATABASE_USER=hdx_user
DATABASE_PASSWORD=hdx_password
DATABASE_HOST=db
DATABASE_PORT=5432

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# CORS settings for frontend
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Session settings
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
CSRF_COOKIE_HTTPONLY=True

# JWT Settings
JWT_SECRET_KEY=your-jwt-secret-key-different-from-django-secret
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_LIFETIME=15
JWT_REFRESH_TOKEN_LIFETIME=7

# =============================================================================
# INTERNAL MICROSERVICES AUTHENTICATION
# =============================================================================
# ML Service (Internal only - backend→ml_service)
ML_SERVICE_URL=http://ml_service:8001
ML_INTERNAL_API_KEY=change-me-in-production-ml-secret-key-min-32-chars

# RAG Service (Internal only - backend→rag_service)
RAG_SERVICE_URL=http://rag_service:8002
RAG_INTERNAL_API_KEY=change-me-in-production-rag-secret-key-min-32-chars

# =============================================================================
# OBSERVABILITY & MONITORING
# =============================================================================
# Sentry (dev-only mock)
SENTRY_DSN=
SENTRY_ENV=development
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# Logging level
LOG_LEVEL=INFO

# =============================================================================
# EMAIL CONFIGURATION (Dev only)
# =============================================================================
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
DEFAULT_FROM_EMAIL=noreply@hydraulic-diagnostics.com

# =============================================================================
# FILE STORAGE
# =============================================================================
# Local development
MEDIA_URL=/media/
STATIC_URL=/static/

# For production: AWS S3/MinIO
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_STORAGE_BUCKET_NAME=
AWS_S3_REGION_NAME=us-east-1

# =============================================================================
# RAG ASSISTANT SETTINGS
# =============================================================================
# LLM Provider settings
LLM_PROVIDER=ollama
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2

# Vector database
VECTOR_DB_TYPE=faiss
VECTOR_DB_PATH=./vector_store

# =============================================================================
# INTEGRATIONS
# =============================================================================
# SCADA settings (dev stubs)
SCADA_ENABLED=False
MODBUS_HOST=
MODBUS_PORT=502
OPCUA_ENDPOINT=

# ERP/CMMS webhooks
ERP_WEBHOOK_SECRET=
CMMS_WEBHOOK_SECRET=

# Notification channels
SLACK_WEBHOOK_URL=
TEAMS_WEBHOOK_URL=
SMS_PROVIDER=
SMS_API_KEY=

# =============================================================================
# PERFORMANCE & CACHING
# =============================================================================
CACHE_TIMEOUT=300
CACHE_KEY_PREFIX=hdx_dev

# Rate limiting
RATE_LIMIT_ENABLE=True
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# =============================================================================
# FEATURE FLAGS (Development)
# =============================================================================
# Auth bypass for development
DEV_AUTH_BYPASS=True

# Enable/disable features during development
FEATURE_RAG_ASSISTANT=True
FEATURE_REAL_TIME_METRICS=True
FEATURE_PDF_REPORTS=True
FEATURE_INTEGRATIONS=False
FEATURE_ADVANCED_ANALYTICS=True

# =============================================================================
# DEVELOPMENT HELPERS
# =============================================================================
# Django Debug Toolbar
DEBUG_TOOLBAR=True

# SQL query logging
LOG_SQL=False

# Development database seeding
LOAD_SAMPLE_DATA=True
SAMPLE_USER_PASSWORD=dev123456

# =============================================================================
# NOTES:
# =============================================================================
# 1. Generate strong secrets for production:
#    python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
# 2. For production, set DEBUG=False, use strong passwords, enable HTTPS
# 3. Never commit .env file - it contains sensitive information
# 4. Update ALLOWED_HOSTS, CORS_ALLOWED_ORIGINS for your domain
# 5. Configure proper email backend for production
# 6. Set up proper monitoring (Sentry DSN) for production
# 7. IMPORTANT: Change ML_INTERNAL_API_KEY and RAG_INTERNAL_API_KEY in production!
