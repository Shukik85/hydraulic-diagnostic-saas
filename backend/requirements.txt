# Production requirements for hydraulic-diagnostic-saas (Django 5.2.7, 2025)
# Updated with TimescaleDB and Celery Beat support


# Security extras (optional)
bleach>=6.1.0

# Celery worker in production + TimescaleDB automation
celery>=5.4.0
# Core
Django==5.2.7
django-celery-beat>=2.5.0  # Database-backed periodic tasks for TimescaleDB management

# CORS
django-cors-headers>=4.4.0
django-csp>=3.8
django-filter>=24.3
django-redis>=5.4.0
django-structlog>=9.1.1

# API & Filters
djangorestframework>=3.15.2,<3.16

# JWT Auth
djangorestframework-simplejwt>=5.3.1

# Embeddings + ANN + numeric stack
faiss-cpu>=1.8.0.post1
flower>=2.0.1  # Celery monitoring UI

# Ollama HTTP client (если будем использовать прямой REST)
httpx>=0.27.2
joblib>=1.4.2

# RAG local models (LangChain 1.x + Ollama)
langchain>=1.0.0
langchain-community>=0.3.0
langchain-core>=1.0.0
langchain-ollama>=1.0.0
numpy>=2.1.1

# Document parsing for knowledge base ingestion
pdfminer.six>=20240706

# Users: images support
pillow>=10.4.0
psycopg[binary,pool]>=3.2.1,<4.0  # native pooling for Django 5.1+ (supports TimescaleDB)
PyJWT>=2.9.0
python-decouple>=3.8
python-json-logger>=2.0.7
python-magic>=0.4.27
pytz>=2024.1  # Timezone support for TimescaleDB tasks

# Redis cache / sessions
redis>=5.0.8
scikit-learn>=1.5.2
scipy>=1.14.1

# Sentence transformers (fallback), torch для CPU
sentence-transformers>=3.0.1
sentry-sdk>=2.13.0

# Logging / Observability
structlog>=24.4.0
torch>=2.4.0
unstructured>=0.15.1

# ASGI (optional)
uvicorn[standard]>=0.30.6  # for ASGI runs

# Static files (optional if not using Nginx for static)
whitenoise>=6.8.2
