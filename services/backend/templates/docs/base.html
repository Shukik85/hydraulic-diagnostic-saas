{% extends "admin/base_site.html" %}
{% load static %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'docs/css/docs.css' %}">
{% endblock %}

{% block extrahead %}
{{ block.super }}
<meta name="viewport" content="width=device-width, initial-scale=1.0">
{% endblock %}

{% block content %}
<div class="docs-layout">
    {% block docs_sidebar %}
    <aside class="docs-sidebar">
        <div class="docs-sidebar__header">
            <h2>ğŸ“š Documentation</h2>
            <form method="get" action="{% url 'docs:search' %}" class="docs-search-mini">
                <input 
                    type="search" 
                    name="q" 
                    placeholder="Search docs..." 
                    class="docs-search-mini__input"
                    value="{{ query|default:'' }}"
                >
            </form>
        </div>

        <nav class="docs-nav">
            <a href="{% url 'docs:index' %}" class="docs-nav__item {% if request.resolver_match.url_name == 'index' %}docs-nav__item--active{% endif %}">
                <span class="docs-nav__icon">ğŸ </span>
                <span>Home</span>
            </a>

            {% for category in categories %}
            <a 
                href="{% url 'docs:category' category.slug %}" 
                class="docs-nav__item {% if current_category.id == category.id %}docs-nav__item--active{% endif %}"
            >
                <span class="docs-nav__icon">{{ category.icon|default:"ğŸ“„" }}</span>
                <span>{{ category.name }}</span>
                <span class="docs-nav__count">{{ category.document_count }}</span>
            </a>
            {% endfor %}
        </nav>
    </aside>
    {% endblock %}

    <main class="docs-main">
        {% block docs_content %}
        {% endblock %}
    </main>
</div>
{% endblock %}

{% block extrajs %}
{{ block.super }}
<script src="{% static 'docs/js/docs.js' %}"></script>
{% endblock %}
