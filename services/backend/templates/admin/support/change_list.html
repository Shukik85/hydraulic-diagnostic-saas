{% extends "admin/change_list.html" %}
{% load static %}

{% block result_list %}
  {% if cl.result_count == 0 and not cl.is_filtered %}
    {# Zero State when no support tickets exist #}
    <div style="text-align: center; padding: 80px 20px;">
      <svg style="width: 80px; height: 80px; margin: 0 auto 20px; stroke: var(--color-primary); fill: none; display: block;">
        <use href="{% static 'admin/icons/icons-sprite.svg' %}#icon-support"></use>
      </svg>
      <h2 style="color: var(--color-text); margin-bottom: 10px; font-size: 24px; font-weight: 600;">
        Нет открытых тикетов
      </h2>
      <p style="color: var(--color-text-secondary); margin-bottom: 30px; font-size: 14px;">
        Все запросы поддержки будут отображаться здесь
      </p>
      <a href="{% url 'admin:support_supportticket_add' %}" class="Btn BtnLg" style="text-decoration: none;">
        <svg style="width: 18px; height: 18px; stroke: currentColor; fill: none; vertical-align: middle;">
          <use href="{% static 'admin/icons/icons-sprite.svg' %}#icon-add"></use>
        </svg>
        Создать тикет
      </a>
    </div>
  {% else %}
    {{ block.super }}
  {% endif %}
{% endblock %}
