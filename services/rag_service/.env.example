# .env.example для RAG Service
# Копировать в .env и настроить под своё окружение

# === Environment ===
ENVIRONMENT=development  # development|staging|production

# === Model ===
MODEL_NAME=deepseek-ai/DeepSeek-R1-Distill-Qwen-32B
MODEL_PATH=/app/models
MAX_MODEL_LEN=8192
TENSOR_PARALLEL_SIZE=2
GPU_MEMORY_UTIL=0.90

# === Generation ===
DEFAULT_MAX_TOKENS=2048
DEFAULT_TEMPERATURE=0.7
DEFAULT_TOP_P=0.9

# === Vector Store ===
VECTOR_STORE_PATH=/app/vector_store
VECTOR_STORE_NAME=hydraulics
EMBEDDING_MODEL=intfloat/multilingual-e5-large
EMBEDDING_DIM=1024

# === S3 (Optional - for backup/restore) ===
S3_ENABLED=false
# S3_BUCKET=hydraulic-kb-backup
# S3_PREFIX=knowledge_base/
# S3_REGION=eu-central-1
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key

# === Rate Limiting ===
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DIAGNOSIS=10/minute
RATE_LIMIT_GENERATE=5/minute
RATE_LIMIT_EXPLAIN=15/minute
RATE_LIMIT_KB_UPLOAD=20/hour

# === Logging ===
LOG_LEVEL=INFO  # DEBUG|INFO|WARNING|ERROR
LOG_FORMAT=json  # json|text
# LOG_FILE=/var/log/rag_service.log

# === API ===
API_HOST=0.0.0.0
API_PORT=8004
API_WORKERS=1
CORS_ORIGINS=["*"]

# === Admin Auth ===
ADMIN_SECRET_KEY=change-me-in-production  # ❗ MUST change for production!
ADMIN_TOKEN_EXPIRE_HOURS=24

# === Monitoring ===
METRICS_ENABLED=true
METRICS_PORT=9090

# === Search Defaults ===
SEARCH_TOP_K=3
SEARCH_THRESHOLD=0.65  # 0.75=high confidence, 0.65=balanced, 0.55=exploratory
